{% extends "index.html" %}
{% block title %} Datasets {% endblock %}
{% block activate_datasets %} 
"nav__link active not-active"
{% endblock %}
{% block unique %}
<form class="form-inline">
    <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
    <button class="btn btn-primary class" type="submit">Search</button>
    <button type="button" class="btn btn-primary class upload" data-toggle="modal" data-target="#exampleModal">Add Dataset</button>
</form>
  
  <!-- Popup -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">New Dataset</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <form method="POST" enctype="multipart/form-data">
            <input type="hidden" name="which-form" value="uploadDataset">
            <div class="modal-body">
              <input name="datasetname" class="form-control form-control-lg" type="text" placeholder="Name">
              <br><br>
              Interactions:
              <div class="custom-file mb-3">
                <input type="file" class="custom-file-input" id="csvinteractions" name="csvinteractions">
                <label class="custom-file-label" for="csvinteractions">Choose file</label>
              </div>
              <br><br>
              Metadata (optional):
              <div class="custom-file mb-3">
                <input type="file" class="custom-file-input" id="csvmetadata" name="csvmetadata">
                <label class="custom-file-label" for="csvmetadata">Choose file</label>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Upload</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  

  <br><br>
  <h3>My Datasets:</h3> 
  <br>
  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Date</th>
        <th scope="col">Share</th>
      </tr>
    </thead>
    <tbody>
      {% for dataset in datasets %}
        <tr>
          <th scope="row">{{dataset[0]}}</th>
          <td>{{dataset[1]}}</td>
          <td>{{dataset[2]}}</td>
          <td>
              <div class="custom-control custom-switch">
                  <input type="checkbox" class="custom-control-input" id="customSwitch1">
                  <label class="custom-control-label" for="customSwitch1"></label>
                </div>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  
{% endblock %}